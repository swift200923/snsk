<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chat Console</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Incoming Call Screen */
    #call-modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.95);
      z-index: 9999;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: 'JetBrains Mono', monospace;
      color: #00ff00;
    }
    .call-btns { display: flex; gap: 20px; margin-top: 30px; }
    .btn-acc { background: #28a745; color: white; border: none; padding: 15px 40px; cursor: pointer; border-radius: 5px; font-weight: bold; }
    .btn-rej { background: #dc3545; color: white; border: none; padding: 15px 40px; cursor: pointer; border-radius: 5px; font-weight: bold; }
  </style>
</head>
<body>
  <div id="auth-overlay">
    <h2>Enter The Password</h2>
    <input type="password" id="pass-input" />
    <button id="login-btn" type="button">Enter</button>
  </div>

  <div id="call-modal">
    <h2 id="caller-name">ðŸ“ž INCOMING CALL...</h2>
    <div class="call-btns">
      <button class="btn-acc" id="accept-call">ACCEPT</button>
      <button class="btn-rej" id="reject-call">REJECT</button>
    </div>
  </div>

  <div id="chat-container">
    <header>
      How are you?
      <button id="call-btn" type="button" style="margin-left:10px; background:#28a745; font-size:12px; padding:5px 10px; border:none; color:white; cursor:pointer; border-radius:4px;">ðŸ“ž Call</button>
      <button id="end-call-btn" type="button" style="display:none; margin-left:10px; background:#dc3545; font-size:12px; padding:5px 10px; border:none; color:white; cursor:pointer; border-radius:4px;">ðŸš« End</button>
    </header>
    
    <audio id="remote-audio" autoplay></audio>
    <audio id="ringtone" src="https://assets.mixkit.co/active_storage/sfx/1359/1359-preview.mp3" loop></audio>
    
    <div id="messages"></div>
    <div class="input-area">
      <input type="text" id="msg-input" placeholder="Type messageâ€¦" />
      <button id="send-btn" type="button">Send</button>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>
